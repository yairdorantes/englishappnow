{"ast":null,"code":"import _slicedToArray from\"/home/yair/Escritorio/english/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useContext}from\"react\";import{useLocation}from\"react-router-dom\";import AuthContext from\"../context/AuthContext\";import mySite from\"./Domain\";import Loader from\"./Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phrases=function Phrases(_ref){var _ref$myCards=_ref.myCards,myCards=_ref$myCards===void 0?true:_ref$myCards,section=_ref.section,cartas=_ref.cartas;var location=useLocation();var crts=location.state.crts;console.log(crts);var _useState=useState(crts),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(\"hi how is your day\"),_useState4=_slicedToArray(_useState3,2),phrase=_useState4[0],setPhrase=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),test=_useState6[0],setTest=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),wordSelected=_useState8[0],setWordSelected=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),answer=_useState10[0],setAnswer=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),isCorrect=_useState12[0],setIsCorrect=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isSent=_useState14[0],setIsSent=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loader=_useState16[0],setLoader=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),collapse=_useState18[0],setCollapse=_useState18[1];// let { user } = useContext(AuthContext);\n// let url;\n// myCards === true\n//   ? (url = `${mySite}usercards/${user.user_id}`)\n//   : (url = `${mySite}cards/${section}`);\nvar generateWord=function generateWord(){setAnswer(\"\");setTest();setLoader(true);var word=cards[Math.floor(Math.random()*cards.length)];setWordSelected(word.cardTitle);console.log(word.cardTitle);var urlPhrases=\"\".concat(mySite,\"phrases/\").concat(word.cardTitle);// console.log(str);\nconsole.log(urlPhrases,\"ssiisi\");axios.get(urlPhrases).then(function(res){console.log(res.data);var modifyPhrase=res.data.phrase.replace(/'/g,\"\").replace(/\"/g,\"\");setTest(modifyPhrase.replace(new RegExp(word.cardTitle,\"i\"),\"___\"));setLoader(false);}).catch(function(err){console.log(err);});};var handleAnswer=function handleAnswer(){setIsSent(true);if(answer!=\"\"&&wordSelected.toLowerCase()===answer.toLowerCase()){setIsCorrect(true);}else{setIsCorrect(false);}};var nextQuestion=function nextQuestion(){generateWord();setIsSent(false);};var handleChange=function handleChange(e){var wordAnswer=e.target.value;setAnswer(wordAnswer);};var handleCollapse=function handleCollapse(e){setCollapse(!collapse);};useEffect(function(){generateWord();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-[100vh] bg-base-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold dark:text-white text-center mb-10\",children:\"Completa la frase con la palabra faltante\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card w-96 mx-auto bg-primary-content gap-5 p-7\",children:[loader&&/*#__PURE__*/_jsx(Loader,{className:\"mx-auto text-center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white\",children:test}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Escribe la palabra faltante\",className:\"input input-bordered text-center max-w-xs mt-10\",onChange:handleChange,autoFocus:true,value:answer}),!isSent?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:handleAnswer,children:\"send\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert shadow-lg flex flex-wrap transition duration-300 \".concat(isCorrect?\"alert-success\":\"alert-error\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto\",children:[isCorrect?/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current flex-shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current flex-shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:isCorrect?\"Correcto\":\"Palabra correcta: \"})]}),!isCorrect&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center text-centerfont font-bold text-xl\",children:wordSelected}),/*#__PURE__*/_jsx(\"button\",{className:\"btn w-full mx-auto\",onClick:nextQuestion,children:\"siguiente question\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:handleCollapse,className:\"collapse \".concat(collapse?\"collapse-open\":\"collapse-close\",\" collapse-arrow border border-base-300 bg-base-100 rounded-box cursor-pointer sm:w-1/2 mx-auto mt-10\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"collapse-title text-xl font-medium\",children:\"Posibles respuestas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse-content\",children:cards.map(function(card,key){return/*#__PURE__*/_jsx(\"li\",{children:card.cardTitle},key);})})]})]});};export default Phrases;","map":{"version":3,"names":["axios","useEffect","useState","useContext","useLocation","AuthContext","mySite","Loader","Phrases","myCards","section","cartas","location","crts","state","console","log","cards","setCards","phrase","setPhrase","test","setTest","wordSelected","setWordSelected","answer","setAnswer","isCorrect","setIsCorrect","isSent","setIsSent","loader","setLoader","collapse","setCollapse","generateWord","word","Math","floor","random","length","cardTitle","urlPhrases","get","then","res","data","modifyPhrase","replace","RegExp","catch","err","handleAnswer","toLowerCase","nextQuestion","handleChange","e","wordAnswer","target","value","handleCollapse","map","card","key"],"sources":["/home/yair/Escritorio/english/src/components/Phrases.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport AuthContext from \"../context/AuthContext\";\nimport mySite from \"./Domain\";\nimport Loader from \"./Loader\";\nconst Phrases = ({ myCards = true, section, cartas }) => {\n  const location = useLocation();\n  const { crts } = location.state;\n  console.log(crts);\n\n  const [cards, setCards] = useState(crts);\n  const [phrase, setPhrase] = useState(\"hi how is your day\");\n\n  const [test, setTest] = useState(\"\");\n  const [wordSelected, setWordSelected] = useState();\n  const [answer, setAnswer] = useState(\"\");\n  const [isCorrect, setIsCorrect] = useState();\n  const [isSent, setIsSent] = useState(false);\n  const [loader, setLoader] = useState(false);\n  const [collapse, setCollapse] = useState(false);\n  // let { user } = useContext(AuthContext);\n  // let url;\n  // myCards === true\n  //   ? (url = `${mySite}usercards/${user.user_id}`)\n  //   : (url = `${mySite}cards/${section}`);\n\n  const generateWord = () => {\n    setAnswer(\"\");\n\n    setTest();\n    setLoader(true);\n    const word = cards[Math.floor(Math.random() * cards.length)];\n    setWordSelected(word.cardTitle);\n    console.log(word.cardTitle);\n\n    const urlPhrases = `${mySite}phrases/${word.cardTitle}`;\n    // console.log(str);\n    console.log(urlPhrases, \"ssiisi\");\n    axios\n      .get(urlPhrases)\n      .then((res) => {\n        console.log(res.data);\n\n        let modifyPhrase = res.data.phrase.replace(/'/g, \"\").replace(/\"/g, \"\");\n        setTest(modifyPhrase.replace(new RegExp(word.cardTitle, \"i\"), \"___\"));\n        setLoader(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleAnswer = () => {\n    setIsSent(true);\n    if (answer != \"\" && wordSelected.toLowerCase() === answer.toLowerCase()) {\n      setIsCorrect(true);\n    } else {\n      setIsCorrect(false);\n    }\n  };\n  const nextQuestion = () => {\n    generateWord();\n    setIsSent(false);\n  };\n  const handleChange = (e) => {\n    const wordAnswer = e.target.value;\n    setAnswer(wordAnswer);\n  };\n  const handleCollapse = (e) => {\n    setCollapse(!collapse);\n  };\n  useEffect(() => {\n    generateWord();\n  }, []);\n\n  return (\n    <div className=\"h-[100vh] bg-base-200\">\n      <h3 className=\"text-3xl font-bold dark:text-white text-center mb-10\">\n        Completa la frase con la palabra faltante\n      </h3>\n      <div className=\"card w-96 mx-auto bg-primary-content gap-5 p-7\">\n        {loader && <Loader className=\"mx-auto text-center\" />}\n        <div className=\"text-2xl font-bold text-white\">{test}</div>\n\n        <input\n          type=\"text\"\n          placeholder=\"Escribe la palabra faltante\"\n          className=\"input input-bordered text-center max-w-xs mt-10\"\n          onChange={handleChange}\n          autoFocus\n          value={answer}\n        />\n\n        {!isSent ? (\n          <button className=\"btn btn-success\" onClick={handleAnswer}>\n            send\n          </button>\n        ) : (\n          <div\n            className={`alert shadow-lg flex flex-wrap transition duration-300 ${\n              isCorrect ? \"alert-success\" : \"alert-error\"\n            }`}\n          >\n            <div className=\"mx-auto\">\n              {isCorrect ? (\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"stroke-current flex-shrink-0 h-6 w-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              ) : (\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"stroke-current flex-shrink-0 h-6 w-6\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              )}\n\n              <span>{isCorrect ? \"Correcto\" : \"Palabra correcta: \"}</span>\n            </div>\n            {!isCorrect && (\n              <div className=\"w-full flex justify-center text-centerfont font-bold text-xl\">\n                {wordSelected}\n              </div>\n            )}\n            <button className=\"btn w-full mx-auto\" onClick={nextQuestion}>\n              siguiente question\n            </button>\n          </div>\n        )}\n      </div>\n      <div\n        onClick={handleCollapse}\n        className={`collapse ${\n          collapse ? \"collapse-open\" : \"collapse-close\"\n        } collapse-arrow border border-base-300 bg-base-100 rounded-box cursor-pointer sm:w-1/2 mx-auto mt-10`}\n      >\n        <div className=\"collapse-title text-xl font-medium\">\n          Posibles respuestas\n        </div>\n        <div className=\"collapse-content\">\n          {cards.map((card, key) => {\n            return <li key={key}>{card.cardTitle}</li>;\n          })}\n        </div>\n      </div>\n      {/* <Loader className=\"\" /> */}\n    </div>\n  );\n};\n\nexport default Phrases;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}